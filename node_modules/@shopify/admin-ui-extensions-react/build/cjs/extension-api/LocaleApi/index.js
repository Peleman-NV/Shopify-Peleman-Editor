'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var react = require('react');
var adminUiExtensions = require('@shopify/admin-ui-extensions');
var utils = require('../utils.js');

function useLocale() {
  const api = utils.useExtensionApi();
  if (!adminUiExtensions.isLocaleApi(api)) {
    throw new Error('No locale api found');
  }
  const {
    locale: {
      initialValue,
      setOnChange
    }
  } = api;
  const [locale, setLocale] = react.useState(initialValue);
  react.useEffect(() => {
    setOnChange(newLocale => setLocale(newLocale));
  }, [setOnChange]);
  return locale;
}

exports.useLocale = useLocale;
