'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var react = require('react');
var adminUiExtensions = require('@shopify/admin-ui-extensions');
var utils = require('../utils.js');

function useLayout() {
  const api = utils.useExtensionApi();
  if (!adminUiExtensions.isLayoutApi(api)) {
    throw new Error('No layout api found');
  }
  const {
    layout: {
      initialValue,
      setOnChange
    }
  } = api;
  const [layout, setLayout] = react.useState(initialValue);
  react.useEffect(() => {
    setOnChange(newLayout => setLayout(newLayout));
  }, [setOnChange]);
  return layout;
}

exports.useLayout = useLayout;
